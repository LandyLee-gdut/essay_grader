# AI作文批改助手使用指南

## 一键上传作文照片，AI老师即刻批改！🎉

## 核心功能🌟
- 📸 **图片智能识别**：支持多张作文照片上传
- ✨ **实时文本提取**：精准识别手写文字
- 🧑🏫 **AI专业批改**：生成结构化评分报告
- 📚 **历史记录管理**：自动保存每次批改记录

## 🛠️ 环境准备

### 最低配置
- 💻 操作系统：Windows 10/macOS 12+/Linux Ubuntu 20.04+
- 🧠 内存：4GB RAM
- 💾 存储：500MB可用空间

### 推荐配置
- ⚡ CPU：Intel i5 10代+/Apple M1+
- 🚀 内存：8GB RAM
- 🌐 网络：稳定互联网连接

## 快速安装🚀

### 1. 获取代码
```bash
git clone https://github.com/yourname/essay_grader.git
cd essay_grader
```

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 初始配置
```bash
# 创建配置文件
echo "MODELSCOPE_API_KEY=你的API密钥" > .env
```

### 4. 运行代码
```bash
python code/grader.py
```

### 5. 进入界面
```bash
本地访问启动后的端口即可
```

## 🖥️ 界面导览
| 区域        | 功能说明                | 操作提示              |
|------------|-----------------------|---------------------|
| 🎨 左侧面板  | 图片上传/预览区          | 支持拖拽上传          |
| 📝 右侧面板  | 文本显示/批改结果区       | 自动滚动查看          |
| ⚡ 底部工具栏 | 历史记录/下载功能         | 点击展开查看详情       |

## 🎮 使用指南

### 1️⃣ 上传作文图片
```markdown
1. 点击`上传作文图片`按钮 📤
2. 选择1-5张清晰的照片（支持JPG/PNG）
3. 确认图片预览正常显示 👀
```

### 2️⃣ 开始智能批改
```bash
点击`开始批改`按钮后：
✅ 文字识别（约10s）
✅ AI评分生成（约30s）
✅ 自动保存记录
```

### 3️⃣ 查看批改结果
典型批改报告示例：
```markdown
### 标点符号、错别字、病句检查：
1. **原文**：从前森林里有一只小蚂蚁，有一天小蚂蚁找到了一颗魔法面包，它吃了一口，“啊”的变大了。
   **修正**：从前，森林里有一只小蚂蚁。有一天，小蚂蚁找到了一颗魔法面包，它吃了一口，“啊”的一声，身体变大了。
   **问题**：缺少标点符号，句式不连贯，缺少必要的停顿。


### 选材、中心思想和结构安排分析：
- **选材**：故事选取了小蚂蚁通过魔法面包变大后的经历，情节有趣，但缺乏细节描写。
- **中心思想**：故事试图传达团结合作的重要性，但表述不够深入，且部分情节过于简单化。
- **结构安排**：结构基本完整，但情节间衔接不够流畅，部分场景描述较为粗糙。

### 好词好句：
1. **“这条队伍像一条长龙。”**（原文第2段出现）
   评价：比喻形象生动，画面感强。

### 批注：
1. **原文**：从前森林里有一只小蚂蚁，有一天小蚂蚁找到了一颗魔法面包，它吃了一口，“啊”的变大了。（原文第1段出现）
   批注：逻辑不清晰，缺少必要的停顿。
   改进方向：增加标点符号，使句子更连贯。

### 总评：
**评分：B**

**评语**：本次作文选材新颖，情节有趣，但语言表达欠流畅，细节描写不足。希望你在下次作文中加强语言的生动性和细节描写，期待你更好的表现！

---

根据上述规则，这篇作文属于B级作文。虽然故事选材新颖，情节有趣，但在语言表达和细节描写方面还有待提升。希望学生能够进一步加强这些方面的练习，以提高作文的整体质量。
```

### 4️⃣ 文件管理
| 功能         | 操作方式                | 小技巧                |
|-------------|-----------------------|---------------------|
| 📥 下载结果   | 点击底部下载按钮         | 支持重命名保存         |
| 🔍 历史查询   | 展开底部`批改历史`面板    | 支持关键词搜索         |
| 🆕 开始新批改 | 点击`批改下一篇`按钮      | 自动清空当前内容       |

## ⚙️ 高级配置

### 修改API设置
编辑`.env`文件：
```ini
# 更换其他支持的大模型
EXTRACTION_MODEL=Qwen/Qwen2.5-VL-7B-Instruct
RATING_MODEL=deepseek-ai/DeepSeek-R1
```

### 自定义评分标准
修改`prompt/template.txt`：
```text
[你的定制要求]
例：
1. 主题明确性（40%）
2. 语言流畅度（30%）
3. 创意亮点（30%）
需指出至少3个优点和2个改进点
```

## 🚨 常见问题

### 图片上传失败
```diff
+ 检查图片格式是否为JPG/PNG
+ 确认单张图片<5MB
- 避免上传模糊/反光照片
```

### 批改速度慢
```bash
# 优化建议：
1. 压缩图片分辨率至1080p
2. 分页拍摄局部清晰照片
3. 检查网络连接状态
```

### 没有配置modelscope API
```bash
错误: Error code: 401 - {'errors': {'message': 'Authenticaton failed, please make sure that a valid ModelScope token is supplied.'}, 'request_id': '0c3847a6-a654-4ed9-b079-964ba4038c7a'}
- 前往modelscope平台申请API_KEY并配置.env文件中
```

### API密钥申请
🔗 [点击前往ModelScope官网申请](https://modelscope.cn)

## 📜 开源协议
本项目采用 [MIT License](LICENSE)，欢迎二次开发，但需保留原始署名。遇到问题请提交Issue~ 🐛

---

<div align="center">
  <p>💖 您的使用体验是我们进步的动力！</p>
</div>